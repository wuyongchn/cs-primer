## 地址解析协议（Address Resolution Protocol, ARP）
ARP 提供从 IP 地址到 MAC 地址的映射，是为了解决同一个局域网上的主机或路由器的 IP 地址和 MAC 地址的映射问题。ARP 协议工作在网络层。

如果要找的目的主机和源主机不在同一个局域网，那么就要通过 ARP 协议找到一个位于本局域网上的某个路由器的 MAC 地址，然后把分组发送给这个路由器，让这个路由器把分组转发到下一个网络，剩下的工作就由下一个网络来做。

如果目的主机 B 和源主机 A 在同一个局域网上，主机 A 欲向主机 B 发送 IP 数据报，主机 A 就在其 ARP 高速缓存中查看有无主机 B 的 IP 地址，如果有，就查出其对应的 MAC 地址，将其填入 MAC 帧的目的地址中，然后通过局域网将该 MAC 帧发往此硬件地址。如果没有，就通过使用目的 MAC 地址为 0xFF-FF-FF-FF-FF-FF 的帧来封装并广播 ARP 请求分组，可以使同一个局域网里的所有主机收到 ARP 请求。但只有主机 B 在收到 ARP 请求后会发出响应，响应中包含主机 B 的 IP 地址与 MAC 地址的映射。主机 A 在收到响应后将映射写入 ARP 缓冲中，然后按查询到的硬件地址发送 MAC 帧。