## 相关操作符优先级
|顺序|运算符|说明|匹配规则|
|:-|:-|:-|:-|
|1|()|带括号的表达式|从左至右|
||[]|数组下标||
||.|按对象选择成员||
||->|按指针选择成员||
|2|+ -|一元 + 和 -|从左至右|
||++ --|前缀递增和前缀递减||
||! ~|逻辑非和按位取反||
||*|解引用||
||&|取地址||

## 基本原则
从变量处由内向外、先右后左的顺序解读，离变量最近的符号对变量的类型有最直接的影响，声明符的其余部分用以确定其它含义。变量一般是语句从左往右，第一个非类型字符串。

## 例子
```
int (*ptr)[10];
```
1. 找到变量名 ptr
2. 向右是 )，向左找到 (，括号中是 *ptr，表示 ptr 是指针
3. 向右是 [10]，表示 ptr 指向大小为 10 的数组
4. 向左是 int，表示数组元素是 int 类型

ptr 是指向大小为 10，类型为 int 的数据的指针

```
int *func(int a, int b);
```
1. 找到变量名 func
2. 向右是 (，找到匹配的 )，括号中是参数列表，表明 func 是函数
3. 向左是 *，表示 func 返回类型是指针
4. 向右是 ；向左是 int，表示返回的指针指向的是 int 变量

func 是函数变量，该函数参数是两个 int 变量，返回类型是 int *
```
int (*func)(int a, int b);
```
1. 首先找到变量名 func
2. func 右边是 )，向左找到匹配的 (，解读括号中的内容。*func 表明 func 是一个指针变量
3. 向右是 (，找到匹配的 ），括号中的内容是参数列表，表示 func 指向一个函数
4. 向左是 int，表示 func 指向的函数返回类型为 int

func 是函数指针，指向参数是两个 int，返回类型是 int 的函数
```
int (*func[10])(int a, int b);
```
1. 找到变量名 func
2. 向右是 []，表示 func 是数组，大小是 10
3. 向左是 *，表示 func 数组的内容是指针
4. 向右 )，向左找到匹配的 (，括号中间的内容已经解读，跳出
5. 向右是 (，找到匹配的 )，括号中是参数类别，表示指针指向的是函数
6. 向左是 int，表示函数的返回类型是 int

func 是大小为 10 的数组，数组的元素是函数指针，指向参数是两个 int，返回类型为 int 的函数

```
int (*func(int a, int b))[10];
```
1. 找到变量名 func
2. 向右 (，找到匹配的 )，括号中是参数列表，表明 func 是函数
3. 向左是 *，表明 func 返回的是指针
4. 向右是 )，向左找到匹配的 (，括号中内容已经解读，跳过
5. 向右是 []，表示指针指向的数组，数组大小是 10
6. 向左是 int，表示数组元素类型是 int

func 是参数为两个 int，返回类型是指向数组元素是 int，大小为 10 的数据的指针

```
void* (*(*func)(int))[10];
```
1. 找到变量名 func
2. 向右是 (，向左找到匹配的 )，括号中是 *func，表明 func 是指针
3. 向右是 (，找到匹配的 )，是参数列表，表明 func 指向的是函数
4. 向左是 *，表明函数返回值是指针
5. 向右是 )，向左找到匹配的 (，括号中内容已解读
6. 向右是 [10]，表示指针指向的是大小为 10 的数组
7. 向左是 void*，表示数组元素是 void*

func 是指向参数为 int 的函数，该函数返回指向大小为 10，类型为 void* 的数组的指针

```
void *(func)(void (*int)(int, int), int);
```

## 其他
```
*ptr->next = p;
(*ptr)->next = p;
&ptr->next = p;
(&ptr)->next = p;
```
-> 的优先级高于 *

```
ptr->val[1] = v;
(ptr->val)[1] = v;
```
[] 的优先级高于 ->

```
typedef struct type {
    int (*ops)(int i)[10];
} type_t;

type_t *ptr;

ptr->ops[1](1);
(ptr->ops[1])(1);
```
相同效果